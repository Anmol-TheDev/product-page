---
const imageUrls = [
"public/images/img1.webp",
"public/images/img2.webp",
"public/images/img3.webp",
"public/images/img4.webp",
"public/images/img5.webp",
"public/images/img6.webp",
"public/images/img7.webp",
"public/images/img8.webp",
"public/images/img9.webp",
"public/images/img10.webp",
"public/images/img11.webp",
];

---
<script>
  import { gsap } from 'gsap';


  document.addEventListener('DOMContentLoaded', () => {
    const carousel = document.querySelector('.carousel-track');
    const slides = document.querySelectorAll('.carousel-slide');
    const slideWidth = slides[0].offsetWidth;

    // Clone slides for infinite effect
    slides.forEach((slide) => {
      const clone = slide.cloneNode(true);
      carousel.appendChild(clone);
    });

    // Initialize GSAP timeline
    const tl = gsap.timeline({
      repeat: -1,
      defaults: { ease: "none" }
    });

    // Create infinite animation
    function createCarouselAnimation() {
      const totalWidth = slideWidth * slides.length;

      // Clear existing animation
      tl.clear();

      // Smooth scrolling animation
      tl.to(carousel, {
        x: -totalWidth,
        duration: slides.length * 2.5,
        ease: "none",
        onComplete: () => {
          gsap.set(carousel, { x: 0 });
        }
      });
    }

    createCarouselAnimation();

    // Hover effects
    carousel.addEventListener('mouseenter', () => {
      tl.timeScale(0.1);
    });

    carousel.addEventListener('mouseleave', () => {
      tl.timeScale(1);
    });

    // Handle window resize
    window.addEventListener('resize', () => {
      tl.kill();
      createCarouselAnimation();
    });
  });
</script>

<div class="carousel-wrapper sm:perspective-distant perspective-midrange mt-10">
  <div class="carousel-container overflow-hidden">
    <div class="carousel-track flex gap-4 p-4 ">
      {imageUrls.map((e,i)=>(
        <div class="carousel-slide shrink-0 sm:w-72 w-56 ">
            <img class="w-full sm:h-80 h-64 object-cover rounded-lg shadow-lg brightness-75  transition-transform hover:brightness-100 sm:hover:scale-105" src={e} alt={`img${i}`}>
      </div>
      ))}
    </div>
  </div>
</div>

